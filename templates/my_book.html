{% extends "layout.html" %}
{% block content %}

<style>
  .book-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 20px;
    padding: 20px;
  }

  .book-card {
    background: #ffffff;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: transform .2s;

    display: flex;
    flex-direction: column;
    justify-content: space-between;   /* ‡∏î‡∏±‡∏ô‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏õ‡∏•‡πà‡∏≤‡∏á */
    height: 520px;                    /* ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡πÉ‡∏ö */
  }

  .book-card:hover {
    transform: scale(1.03);
  }

  .book-card img {
    width: 150px;
    height: 220px;
    object-fit: cover;
    border-radius: 10px;
    margin: 0 auto 10px auto;
  }

  /* ‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤ */
  .book-info {
    flex-grow: 1;
  }

  /* ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏õ‡∏∏‡πà‡∏° */
  .button-group {
    margin-top: auto;
  }
</style>

<div class="container mt-4">
  <h2>üìö MY BOOK</h2>

  {% if books %}
  <div class="book-grid">
    {% for book in books %}
    <div class="book-card">

      <!-- ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô -->
      <div class="book-info">
        <img src="{{ book.BOOKIMAGE }}" alt="{{ book.BOOKNAME }}">
        <h5 class="mt-2">{{ book.BOOKNAME }}</h5>
        <p class="text-muted">{{ book.WRITER }}</p>
        <p class="text-secondary"><small>üìÖ {{ book.ORDER_DATE }}</small></p>
      </div>

      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î -->
      <div class="button-group">
        <a href="{{ url_for('read_book', book_id=book.BOOKID) }}" class="btn btn-primary btn-sm w-100 mb-2">
          üìñ Read
        </a>

        <a href="{{ url_for('write_review', book_id=book.BOOKID) }}" class="btn btn-warning btn-sm w-100 mb-2">
          ‚úèÔ∏è Write Review
        </a>

        <form action="{{ url_for('return_book', book_id=book.BOOKID) }}" method="POST">
          <button type="submit" class="btn btn-danger btn-sm w-100">
            üîÅ Return
          </button>
        </form>
      </div>

    </div>
    {% endfor %}
  </div>

  {% else %}
  <p>No book here</p>
  {% endif %}
</div>
{% endblock %}
