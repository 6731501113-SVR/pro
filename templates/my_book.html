{% extends "layout.html" %}
{% block content %}

<style>
  .book-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 20px;
    padding: 20px;
  }

  .book-card {
    background: #ffffff;
    border-radius: 10px;
    padding: 15px;
    text-align: center;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    transition: transform .2s;
  }

  .book-card:hover {
    transform: scale(1.03);
  }

  .book-card img {
    width: 150px;
    height: 200px;
    object-fit: cover;
    border-radius: 10px;
    margin-bottom: 10px;
  }

  .return-btn {
    margin-top: 10px;
  }
</style>

<div class="container mt-4">
  <h2>ğŸ“š MY BOOK</h2>

  {% if books %}
  <div class="book-grid">
    {% for book in books %}
    <div class="book-card">
      <img src="{{ book.BOOKIMAGE }}" alt="{{ book.BOOKNAME }}">

      <h5 class="mt-2">{{ book.BOOKNAME }}</h5>
      <p class="text-muted">{{ book.WRITER }}</p>
      <p class="text-secondary"><small>ğŸ“… {{ book.ORDER_DATE }}</small></p>

      <!-- à¸›à¸¸à¹ˆà¸¡ Read -->
      <a href="{{ url_for('read_book', book_id=book.BOOKID) }}" class="btn btn-primary btn-sm w-100 mb-2">
        ğŸ“– Read
      </a>
      <!-- à¸›à¸¸à¹ˆà¸¡à¹€à¸‚à¸µà¸¢à¸™à¸£à¸µà¸§à¸´à¸§ -->
      <a href="{{ url_for('write_review', book_id=book.BOOKID) }}" class="btn btn-warning btn-sm w-100 mt-2">
        âœï¸ Write Review
      </a>
      <!-- à¸›à¸¸à¹ˆà¸¡à¸„à¸·à¸™à¸«à¸™à¸±à¸‡à¸ªà¸·à¸­ -->
      <form action="{{ url_for('return_book', book_id=book.BOOKID) }}" method="POST">
        <button type="submit" class="btn btn-danger btn-sm w-100 return-btn">
          ğŸ” Return
        </button>
      </form>
    </div>
    {% endfor %}
  </div>

  {% else %}
  <p>No book here</p>
  {% endif %}
</div>
{% endblock %}